<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PyScript</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <! -- https://pyodide.org/en/stable/usage/packages-in-pyodide.html -->
    <py-config>
        packages = ['pandas', 'numpy', 'requests', 'beautifulsoup4']
    </py-config>
</head>
<body>
<div id="py-div"></div>
<div id="links"></div>
<py-script>
    import pandas as pd
    import numpy as np
    from bs4 import BeautifulSoup
    from datetime import datetime
    from js import localStorage, document, console, XMLHttpRequest

    console.log("Hello")
    div = document.getElementById("py-div")
    div.innerHTML = "Hello<br/>"
    
    div.innerHTML += localStorage.getItem("py-test")

    req = XMLHttpRequest.new()
    req.open("GET", "https://ivancampos.com", False)
    req.send(None)
    soup = BeautifulSoup(req.response, "html.parser")
    links = soup.find_all("a")
    linkDiv = document.getElementById("links")
    for link in links:
        linkDiv.innerHTML += link.get("href") + "<br/>"
</py-script>
</body>
</html>